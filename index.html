<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

	<head>
		<title>Quantum Safari</title>
		<meta  http-equiv="Content-Type" content="application;charset=UTF-8">
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
		</head>
	<body class="is-preload">


		<!-- Wrapper -->
		<div id="wrapper" style="position:absolute; bottom:0; width:100%; height:100%;">
			<div id="one" class="wrapper style1 fade-up" style="height:100%; bottom:0;">
				<div class="inner">
					<h1 id="tests">Quantum Safari</h1>
					<p>New album coming soon!! Check out the current state of it below. I'll be posting updates here, so stay tuned!</p>
				</div>

				<div style="bottom:0;">
				<div id="song_list">
					<div class="button" onclick="changeSong('1')">1. Spooky Overture?</div>
					<div class="button" onclick="changeSong('2')">2. Lights Out</div>
					<div class="button" onclick="changeSong('3')">3. And I'm Gone</div>
					<div class="button" onclick="changeSong('4')">4. Be Seen on Halloween</div>
					<div class="button" onclick="changeSong('5')">5. Two for the Toads</div>
					<div class="button" onclick="changeSong('6')">6. Good Idea, Bad Execution</div>
					<div class="button" onclick="changeSong('7')">7. Echoes of the Moon</div>
					<div class="button" onclick="changeSong('8')">8. Give it a Try</div>
					<div class="button" onclick="changeSong('9')">9. Be Seein' You</div>
				</div>

				<!-- Main content -->
				<section style="display:flex; align-items:flex-start; justify-content:center; overflow: hidden; border: 5px solid rgb(17, 0, 53); width:100%; height:800px;">

					<!-- Lyrics -->
					<div id="lyric_container">
						<div id="lyrics" style="width:0; margin:10px;">
							<p id="current_lyrics" style="position:relative;">
							</p>
						</div>
				    </div>

				    <!-- Paintings -->
					<div id="art_wrap" style="position:relative; top:0; width:auto; height:800px;">
						<img id="art" style="margin-left:auto; margin-right:auto; display:block; max-height:100%; max-width:100%; position:relative; top:50%; transform: translateY(-50%);" src="images/1.jpg">
					</div>
			    </section>

				<!-- Audio Player -->
				<div id="audio-player-container" onmouseup="mouse_up()" ontouchend="mouse_up()">
					<audio src="songs/1.mp3" preload="metadata"></audio>
					<input type="range" id="seek-slider" max="100" value="0">
					<span id="current-time" class="time">0:00</span>
					<span id="duration" class="time">0:00</span>
					<input type="range" id="volume-slider" max="100" value="100">
					<br>
					<button id="play-icon"><i class='material-icons'>play_arrow</i></button>
					<button id="prev-icon" onclick="prevSong()"><i class='material-icons'>skip_previous</i></button>
					<button id="next-icon" onclick="nextSong()"><i class='material-icons'>skip_next</i></button>
					<button id="mute-icon" style="float: right;"><i class='material-icons'>volume_up</i></button>
				</div>
				</div>
			</section>
		</div>

		<!--///////////////////////////////////////////////////////////////////-->
		<!--///////////////////////////////////////////////////////////////////-->
		<!--/////////////////////////// CODE //////////////////////////////////-->
		<!--///////////////////////////////////////////////////////////////////-->
		<!--///////////////////////////////////////////////////////////////////-->

		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script>
			/* Implementation of the presentation of the audio player */

			const playIconContainer = document.getElementById('play-icon');
			const audioPlayerContainer = document.getElementById('audio-player-container');
			const seekSlider = document.getElementById('seek-slider');
			const volumeSlider = document.getElementById('volume-slider');
			const muteIconContainer = document.getElementById('mute-icon');
			const lyrics = document.getElementById('lyrics');
			const lyric_container = document.getElementById('lyric_container');
			const current_lyrics = document.getElementById("current_lyrics");
			const art_wrap = document.getElementById("art_wrap");
			let playState = 'play';
			let muteState = 'unmute';
			let song = 1;

			const updatePlayState = () => {
				if(playState === 'play') {
					audio.play();
					lyrics.style.animationPlayState = 'running';
					requestAnimationFrame(whilePlaying);
					playIconContainer.innerHTML = "<i class='material-icons'>pause</i>";
					playState = 'pause';
				} else {
					audio.pause();
					lyrics.style.animationPlayState = 'paused';
					cancelAnimationFrame(raf);
					playIconContainer.innerHTML = "<i class='material-icons'>play_arrow</i>";
					playState = 'play';
				}
			}

			playIconContainer.addEventListener('click', () => {
				updatePlayState();
			});

			muteIconContainer.addEventListener('click', () => {
				if(muteState === 'unmute') {
					audio.muted = true;
					muteIconContainer.innerHTML = "<i class='material-icons'>volume_off</i>";
					muteState = 'mute';
				} else {
					audio.muted = false;
					muteIconContainer.innerHTML = "<i class='material-icons'>volume_up</i>";
					muteState = 'unmute';
				}
			});

			const showRangeProgress = (rangeInput) => {
				if(rangeInput === seekSlider) audioPlayerContainer.style.setProperty('--seek-before-width', rangeInput.value / rangeInput.max * 100 + '%');
				else audioPlayerContainer.style.setProperty('--volume-before-width', rangeInput.value / rangeInput.max * 100 + '%');
			}

			seekSlider.addEventListener('input', (e) => {
				showRangeProgress(e.target);
			});
			volumeSlider.addEventListener('input', (e) => {
				showRangeProgress(e.target);
			});

			/* Implementation of the functionality of the audio player */
			const audio = document.querySelector('audio');
			const durationContainer = document.getElementById('duration');
			const currentTimeContainer = document.getElementById('current-time');
			const outputContainer = document.getElementById('volume-output');
			let raf = null;

			const calculateTime = (secs) => {
				const minutes = Math.floor(secs / 60);
				const seconds = Math.floor(secs % 60);
				const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;
				return `${minutes}:${returnedSeconds}`;
			}

			function displayDuration () {
				durationContainer.textContent = calculateTime(audio.duration);
			}

			const setSliderMax = () => {
				seekSlider.max = Math.floor(audio.duration);
			}

			const displayBufferedAmount = () => {
				bufferedAmount = 0;
				if (audio.buffered.length >= 1) {
					bufferedAmount = Math.floor(audio.buffered.end(audio.buffered.length - 1));
				}
				audioPlayerContainer.style.setProperty('--buffered-width', `${(bufferedAmount / seekSlider.max) * 100}%`);
			}

			const whilePlaying = () => {
				seekSlider.value = Math.floor(audio.currentTime);
				currentTimeContainer.textContent = calculateTime(seekSlider.value);
				audioPlayerContainer.style.setProperty('--seek-before-width', `${audio.currentTime / seekSlider.max * 100}%`);
				raf = requestAnimationFrame(whilePlaying);
			}

			const nextSong = () => {
				if (song == 9) {
					updatePlayState();
				} else {
					song++;
					changeSong(song);
				}
				seekSlider.value = Math.floor(audio.currentTime);
				currentTimeContainer.textContent = calculateTime(seekSlider.value);
				audioPlayerContainer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);
				raf = requestAnimationFrame(whilePlaying);
			}

			const prevSong = () => {
				if (song == 1) {
					changeSong(song);
					updatePlayState();
				} else {
					if (audio.currentTime < 5) {
						song--;
					}
					changeSong(song);
				}
				seekSlider.value = Math.floor(audio.currentTime);
				currentTimeContainer.textContent = calculateTime(seekSlider.value);
				audioPlayerContainer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);
				raf = requestAnimationFrame(whilePlaying);
			}
			
			if (audio.readyState > 0) {
				displayDuration();
				setSliderMax();
				displayBufferedAmount();
			} else {
				audio.addEventListener('loadedmetadata', () => {
					displayDuration();
					setSliderMax();
					displayBufferedAmount();
				});
			}

			function reset_animation() {
 			 var el = document.getElementById('lyrics');
			 el.style.animation = 'none';
			 el.offsetHeight; /* trigger reflow */
			}

			audio.addEventListener('durationchange', () => {
				displayDuration();
				setSliderMax();
				displayBufferedAmount();	
			});

			function updateAnimation() {
				reset_animation();
                current_lyrics.style.top = "-" + seekSlider.value/audio.duration*current_lyrics.clientHeight + "px";
				var calc = audio.duration;// * 1/(1 - seekSlider.value/audio.duration);
				console.log(calc);
				lyrics.style.setProperty("animation", "my-animation linear " + calc + "s infinite");
				if(playState === 'play') {
					lyrics.style.animationPlayState = 'paused';
				} else {
					lyrics.style.animationPlayState = 'running';
				}
			}

			audio.addEventListener('progress', displayBufferedAmount);

			audio.addEventListener('ended', nextSong);

			seekSlider.addEventListener('input', () => {
				updateAnimation();
				lyrics.style.animationPlayState = 'paused';
				currentTimeContainer.textContent = calculateTime(seekSlider.value);
				if(!audio.paused) {
					cancelAnimationFrame(raf);
				}
			});

			// Restart the animation when let go of the mouse (or touch!)
			function mouse_up() {
				if (playState == "pause") {
					lyrics.style.animationPlayState = 'running';
				}
			}

			seekSlider.addEventListener('change', () => {
				audio.currentTime = seekSlider.value;
				if(!audio.paused) {
					requestAnimationFrame(whilePlaying);
				}
			});

			volumeSlider.addEventListener('input', (e) => {
				const value = e.target.value;

				outputContainer.textContent = value;
				audio.volume = value / 100;
			});


			/* MEEEEEEEEEEEEEEEEE  */ 
			function changeSong(s) {
				song = s;
				audio.src='songs/' + s + '.mp3';
				audio.load();
				playState = 'play'
				updatePlayState();
				document.getElementById('art').src='images/' + s + '.jpg';
				if (s==2) {
					lyrics.style.setProperty("animation", "my-animation linear " + 152 + "s infinite");
					lyric_container.style.width = "600px";
					art_wrap.style.width = "calc(100% - 700px)";
					current_lyrics.innerHTML =
					"<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>Mom:<br>Good night honey, I've got candy to hand out.<br>Sweet dreams, now I'll turn the lights out!<br><br><br><br>Boy:<br>There’s only one chance a year to conquer the night,<br>But it’s always the same story, she turns out that dang light<br>So I’m stuck in here thinkin’ and dreamin’ of Halloween<br>Designing my own costume that will never be seen<br>I know there’s something out there, a world outside this room,<br>Though so far I only know its reflection in the moon<br>But tonight will be different, I won’t go to sleep<br>this time around I pick trick over treat<br>See mom always told me, I’m her special little son<br>Now it’s time for someone special to have a little fun.<br><br>Mom: Oh honey? One more thing -<br>No matter how you’re feeling<br>Or what you’re gonna do<br>There will never be another<br>who could be a better you!<br>"
				} 
				else if (s == 3) {
					lyrics.style.setProperty("animation", "my-animation linear " + 203 + "s infinite");
					lyric_container.style.width = "600px";
					art_wrap.style.width = "calc(100% - 700px)";
					current_lyrics.innerHTML = "<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>And I'm gone.<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>"
				}
				else if (s == 4) {
					lyric_container.style.width = "600px";
					art_wrap.style.width = "calc(100% - 700px)";
				}
				else if (s==6) {
					lyrics.style.setProperty("animation", "my-animation linear " + 332 + "s infinite");
					lyric_container.style.width = "600px";
					art_wrap.style.width = "calc(100% - 700px)";
					document.getElementById('current_lyrics').innerHTML =
						"<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>Welcome to the show!<br><br><br>It's a good idea, but bad execution <br>I'm thinking that's not a great solution <br>Hey, so come and play!<br><br>Boy: how do you play?<br><br>Let's all tell 'em why they're an idiot<br>Hear their bright ideas and why they didn't work<br>Finally we see they're just a little bit.... dumb!<br><br>Boy: ''What? Who would want to play-''<br><br>Tonight's first contestant is a monster of a man<br>One bite from a werewolf had a-blown away his plan<br>Da da da dum, he lost everything - got cursed by cosmic fate:<br>The same moon that transforms him then illuminates his face<br><br>But he wouldn't give up easily; he had too much to lose<br>So he plans out his revenge and waits until the next full moon<br>Then he climbs up to the highest tree and jumps into the sky<br>he sets his sights upon the moon with a fire in his eyes<br><br>He grabs ahold with all his power, here's the zero hour, it's beginning<br>he digs his claws into the sides, his retribution satisfied, he's grinning<br>And he rips it and whacks it and in one fell swoop,<br>He sweeps it and swipes it and CRACKS it to the side,<br>AND IT TURNS!!!!!!!!<br>AND AS IT DOES THE PART OF HIM THAT GAVE HIM STRENGTH TO<br>CLIMB AND JUMP AND CLAW AND TEAR APART THE MOON WAS GONE!!!!!!<br>AND HE COULD NOT HOLD ON!!!!!!!!!!!<br>NO HE COULD NOT HOLD ON!!!!!<br><br>So come on down and let's all tell ‘em why! Two, three -<br>It was a good idea, but bad execution<br>I'm thinking that's not a great solution<br>Hey, so come and play!<br><br>And let's all tell em why they're an idiot,<br>Hear their bright ideas and why they didn't work<br>Finally we see they're just a little bit...dumb!<br><br>Boy: No, this is a terrible game-<br><br>Next up is a lonely ghost who liked to be alive,<br>She thought she wouldn't have to make new friends after she died<br>da dum da dum. Now she's feeling down - to be alone is tough<br>She wants her old friends back but they're not dying fast enough!!<br><br>And there's one guy in particular she misses most of all,<br>He was charming, he was clever, he made winter feel like fall,<br>She died too soon to tell him and they never got to be,<br>She sees an opportunity to fulfill destiny!<br><br>She heads back into town, dressed up in her finest gown, she was stunning<br>But as she floats on past, everyone becomes aghast, they start running,<br>And she's moanin’ and wailin’ - in her desperation,<br>She starts scarin’ and spookin', there's a mass migration,<br>IT'S A GHOST TOWN!!!!!!!!<br>SHE STOPS THERE WRAPPED IN SPACE AND SKY AND WONDERS HOW<br>THE ONLY LIFE SHE EVER KNEW AND ALL HER FRIENDS WERE GONE!!!!!!<br>AND SHE COULD NOT MOVE ON!!!!!!<br>NO SHE COULD NOT MOVE ON!!!!!!!<br><br>So come on down and let's all tell her why!!!<br>Let's all tell her why!<br><br>-keyboard solo-<br><br>It's the good idea hall of fame!<br><br>Doors with hinges on the bottom<br>A counterclockwise clock<br>How 'bout online cash deposit?<br>And made-for-two-feet socks<br>Why not an uneven staircase<br>to trip burglars sneakin' in<br>And lottery tickets<br>Without a chance to win<br><br>I'm thinkin' five finger nail clippers<br>Sweaters for your fish<br>Individually wrapped cereal or a<br>washer for one dish, let's hear these...<br><br>...good ideas, with bad execution<br>That's the thing we're lookin for, that's the right solution<br>Like a floor-mounted shower head<br>That sprays you from below<br>Or a verbal traffic signal<br>''stop stop stop, okay go!''<br><br>No doubt about it,<br>We've got so much more in store!<br><br>Boy: No! I just can't take any more!<br><br>These are NOT good ideas, and this show isn't fun.<br>I don't wanna play, and I'm not the only one.<br>I'm gonna unplug the music, put an end to this scene<br>I won't let you take away my first Halloween<br><br>Host: You think you call the shots?<br>You're just a little boy!<br><br>Now let's tell you why you're an idiot<br>Turn the spotlights on - now you're in the thick of it<br>Let's take a look at your GOOD IDEA!<br><br>Tonight's last contestant is a kid who's all alone,<br>Wanting to feel big, he runs away from home -<br>ba dum ba dum - do you feel safe?<br>Isn't it obvious this was all a big mistake?<br>What were you thinking?<br>WHAT ARE YOU DOING HERE?<br>YOU SHOULDN'T BE HERE<br><br><br><br><br><br><br><br><br>" 
					}
				else if (s == 7) {
					lyric_container.style.width = "600px";
					art_wrap.style.width = "calc(100% - 700px)";
				}
				else if (s == 8) {
					lyric_container.style.width = "600px";
					art_wrap.style.width = "calc(100% - 700px)";
				}
				else {
					lyric_container.style.width = "0";
					art_wrap.style.width = "100%";
					document.getElementById('current_lyrics').innerHTML = "";
				}
				
			}

			/* Implementation of the Media Session API */
			if('mediaSession' in navigator) {
				navigator.mediaSession.metadata = new MediaMetadata({
					title: 'Halloween Album',
					artist: 'Quantum Safari',
					album: 'Halloween: a Halloweeny Halloween',
					artwork: [
						{ src: 'images/1/96.jpg',  sizes: '96x96',   type: 'image/png' },
						{ src: 'images/1/128.jpg', sizes: '128x128', type: 'image/png' },
						{ src: 'images/1/192.jpg', sizes: '192x192', type: 'image/png' },
						{ src: 'images/1/256.jpg', sizes: '256x256', type: 'image/png' },
						{ src: 'images/1/384.jpg', sizes: '384x384', type: 'image/png' },
						{ src: 'images/1/512.jpg', sizes: '512x512', type: 'image/png' },
					]
				});
				navigator.mediaSession.setActionHandler('play', () => {
					if(playState === 'play') {
						audio.play();
						requestAnimationFrame(whilePlaying);
						playState = 'pause';
					} else {
						audio.pause();
						cancelAnimationFrame(raf);
						playState = 'play';
					}
				});
				navigator.mediaSession.setActionHandler('pause', () => {
					if(playState === 'play') {
						audio.play();
						requestAnimationFrame(whilePlaying);
						playState = 'pause';
					} else {
						audio.pause();
						cancelAnimationFrame(raf);
						playState = 'play';
					}
				});
				navigator.mediaSession.setActionHandler('nexttrack', (details) => {
					nextSong();
				});
				navigator.mediaSession.setActionHandler('previoustrack', (details) => {
					prevSong();
				});
				navigator.mediaSession.setActionHandler('seekbackward', (details) => {
					audio.currentTime = audio.currentTime - (details.seekOffset || 10);
				});
				navigator.mediaSession.setActionHandler('seekforward', (details) => {
					audio.currentTime = audio.currentTime + (details.seekOffset || 10);
				});
				navigator.mediaSession.setActionHandler('seekto', (details) => {
					if (details.fastSeek && 'fastSeek' in audio) {
					audio.fastSeek(details.seekTime);
					return;
					}
					audio.currentTime = details.seekTime;
				});
				navigator.mediaSession.setActionHandler('stop', () => {
					audio.currentTime = 0;
					seekSlider.value = 0;
					audioPlayerContainer.style.setProperty('--seek-before-width', '0%');
					currentTimeContainer.textContent = '0:00';
					if(playState === 'pause') {
						cancelAnimationFrame(raf);
						playState = 'play';
					}
				});
			}
			</script>			  


	</body>
</html>